ac_anime_characters_category = {
	ac_decision_create_anime_academy = {
		cost = 100
		fire_only_once = yes
		days_remove = 30
		available = {
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			add_ideas = ac_idea_anime_academy
		}
	}
	ac_decision_create_anime_general_staffy = {
		cost = 100
		fire_only_once = yes
		days_remove = 30
		available = {
			custom_trigger_tooltip = {
				tooltip = ac_tt_count_generals
				check_variable = {
					ac_var_count_generals > 4
				}
			}
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			add_ideas = ac_idea_anime_general_staff
		}
	}
	ac_decision_create_anime_admiralty = {
		cost = 100
		fire_only_once = yes
		days_remove = 30
		available = {
			custom_trigger_tooltip = {
				tooltip = ac_tt_count_admirals
				check_variable = {
					ac_var_count_admirals > 4
				}
			}
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			add_ideas = ac_idea_anime_admiralty
		}
	}
	ac_decision_create_anime_intelligence_agency = {
		cost = 100
		fire_only_once = yes
		days_remove = 30
		available = {
			has_idea = ac_idea_anime_academy
			num_of_civilian_factories_available_for_projects > 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			add_ideas = ac_idea_idea_anime_intelligence_agency
			if = {
				limit = {
					has_intelligence_agency = no
				}
				create_intelligence_agency = {
					icon = GFX_intelligence_agency_logo_generic_8
					name = "The Anime Intelligence Agency"
				}
			}
		}
	}
	ac_decision_gacha_generals = {
		cost = 50
		available = {
			has_idea = ac_idea_anime_academy
		}
		complete_effect = {
			add_to_variable = {
				ac_var_count_generals = 1
			}
			custom_effect_tooltip = ac_tt_gacha_generals
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_girl_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					50 = {
						add_corps_commander_role = {
							character = var:temp_char
							skill = 1
							attack_skill = 1
							defense_skill = 1
							planning_skill = 1
							logistics_skill = 1
						}
					}
					30 = {
						add_corps_commander_role = {
							character = var:temp_char
							skill = 3
							attack_skill = 3
							defense_skill = 3
							planning_skill = 3
							logistics_skill = 3
						}
					}
					15 = {
						add_corps_commander_role = {
							character = var:temp_char
							skill = 6
							attack_skill = 6
							defense_skill = 6
							planning_skill = 6
							logistics_skill = 6
						}
					}
					5 = {
						add_corps_commander_role = {
							character = var:temp_char
							skill = 9
							attack_skill = 9
							defense_skill = 9
							planning_skill = 9
							logistics_skill = 9
						}
					}
				}
				var:temp_char = {
					add_trait = {
						trait = ac_exp_trait
					}
					add_random_trait = {
						old_guard
						brilliant_strategist
						inflexible_strategist
						politically_connected
						war_hero
						career_officer
						trait_cautious
						trait_reckless
						media_personality
						harsh_leader
						bearer_of_artillery
						infantry_officer
						cavalry_officer
						armor_officer
						engineer_officer
						organizer
						cavalry_leader
						infantry_leader
						skilled_staffer
						trickster
						naval_invader
						desert_fox
						swamp_fox
						trait_mountaineer
						hill_fighter
						jungle_rat
						ranger
						urban_assault_specialist
						winter_specialist
						winter_expert
						trait_engineer
						panzer_leader
						commando
					}
				}
			}
		}
	}
	ac_decision_gacha_admirals = {
		cost = 50
		available = {
			has_idea = ac_idea_anime_academy
			any_controlled_state = {
				is_coastal = yes
			}
		}
		complete_effect = {
			add_to_variable = {
				ac_var_count_admirals = 1
			}
			custom_effect_tooltip = ac_tt_gacha_admirals
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_girl_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					50 = {
						add_naval_commander_role = {
							character = var:temp_char
							skill = 1
							attack_skill = 1
							defense_skill = 1
							maneuvering_skill = 1
							coordination_skill = 1
						}
					}
					30 = {
						add_naval_commander_role = {
							character = var:temp_char
							skill = 3
							attack_skill = 3
							defense_skill = 3
							maneuvering_skill = 1
							coordination_skill = 1
						}
					}
					15 = {
						add_naval_commander_role = {
							character = var:temp_char
							skill = 6
							attack_skill = 6
							defense_skill = 6
							maneuvering_skill = 1
							coordination_skill = 1
						}
					}
					5 = {
						add_naval_commander_role = {
							character = var:temp_char
							skill = 9
							attack_skill = 9
							defense_skill = 9
							maneuvering_skill = 1
							coordination_skill = 1
						}
					}
				}
				var:temp_char = {
					add_trait = {
						trait = ac_exp_navy_trait
					}
					add_random_trait = {
						old_guard_navy
						gentlemanly
						gunnery_expert
						cuts_corners
						chief_engineer
						navy_media_personality
						bold
						navy_career_officer
						battleship_adherent
						aviation_enthusiast
						caustic_personality
						craven
						naval_lineage
						seawolf
						fleet_protector
						blockade_runner
						superior_tactician
						spotter
						fly_swatter
						ironside
						air_controller
						arctic_water_expert
						inshore_fighter
						blue_water_expert
						green_water_expert
					}
				}
			}
		}
	}
	ac_decision_gacha_political_advisors = {
		cost = 50
		available = {
			has_idea = ac_idea_anime_academy
		}
		complete_effect = {
			custom_effect_tooltip = ac_tt_gacha_political_advisors
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_girl_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_popular_figurehead
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_silent_workhorse
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_head_of_intelligence
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_intelligence_princess
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_propaganda_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_first_lady
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_quartermaster_general
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_infrastructure_developer
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_captain_of_industry
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_war_industrialist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_princess_of_terror
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_communist_revolutionary
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_democratic_reformer
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_fascist_demagogue
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_staunch_monarchist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_peoples_favorite_minister
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_minister_of_health
								}
							}
						}
					}
				}
			}
		}
	}
	ac_decision_gacha_theorists = {
		cost = 50
		available = {
			has_idea = ac_idea_anime_academy
		}
		complete_effect = {
			custom_effect_tooltip = ac_tt_gacha_theorists
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_girl_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_nuclear_scientist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_girl_scientist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									military_theorist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									mobile_warfare_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									superior_firepower_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									grand_battle_plan_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									mass_assault_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_warfare_theorist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									dive_bomber
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									victory_through_airpower
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									close_air_support_proponent
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									assault_avaition
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									naval_theorist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									naval_aviation_pioneer
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									grand_fleet_proponent
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									submarine_specialist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									blitzkrieg_theorist
								}
							}
						}
					}
				}
			}
		}
	}
	ac_decision_gacha_air_chiefs = {
		cost = 50
		available = {
			has_idea = ac_idea_anime_academy
		}
		complete_effect = {
			custom_effect_tooltip = ac_tt_gacha_air_chiefs
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_girl_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_reform_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_safety_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_old_guard
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_night_operations_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_ground_support_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_all_weather_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_air_combat_training_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_naval_strike_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_bomber_interception_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_air_superiority_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_close_air_support_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_strategic_bombing_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_tactical_bombing_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_airborne_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_pilot_training_3
								}
							}
						}
					}
				}
			}
		}
	}
	ac_decision_gacha_operatives = {
		cost = 50
		available = {
			has_idea = ac_idea_idea_anime_intelligence_agency
		}
		complete_effect = {
			custom_effect_tooltip = ac_tt_gacha_operatives
			hidden_effect = {
				random_list = {
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_shiki
						}
						set_global_flag = ac_flag_shiki
						create_operative_leader = {
							name = "Shiki"
							GFX = GFX_shiki
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
							traits = {
								operative_linguist
								operative_seducer
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_rosaria
						}
						set_global_flag = ac_flag_rosaria
						create_operative_leader = {
							name = "Rosaria"
							GFX = GFX_rosaria
							female = yes
							traits = {
								operative_infiltrator
								operative_demolition_expert
								operative_commando
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_reina_prowler
						}
						set_global_flag = ac_flag_reina_prowler
						create_operative_leader = {
							name = "Reina Prowler"
							GFX = GFX_reina_prowler
							female = yes
							traits = {
								operative_infiltrator
								operative_safe_cracker
								operative_demolition_expert
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_sheryl_nome
						}
						set_global_flag = ac_flag_sheryl_nome
						create_operative_leader = {
							name = "Sheryl Nome"
							GFX = GFX_sheryl_nome
							female = yes
							traits = {
								operative_seducer
								operative_natural_orator
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_ange_le_carre
						}
						set_global_flag = ac_flag_ange_le_carre
						create_operative_leader = {
							name = "Ange le Carr√©"
							GFX = GFX_ange_le_carre
							female = yes
							traits = {
								operative_commando
								operative_demolition_expert
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_makoto_kikuchi
						}
						set_global_flag = ac_flag_makoto_kikuchi
						create_operative_leader = {
							name = "Makoto Kikuchi"
							GFX = GFX_makoto_kikuchi
							female = yes
							traits = {
								operative_commando
								operative_demolition_expert
								operative_safe_cracker
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_niko_yazawa
						}
						set_global_flag = ac_flag_niko_yazawa
						create_operative_leader = {
							name = "Niko Yazawa"
							GFX = GFX_niko_yazawa
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
							traits = {
								operative_infiltrator
								operative_natural_orator
								operative_seducer
								operative_safe_cracker
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_tomoko_kuroki
						}
						set_global_flag = ac_flag_tomoko_kuroki
						create_operative_leader = {
							name = "Tomoko Kuroki"
							GFX = GFX_tomoko_kuroki
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_aika_sumeragi
						}
						set_global_flag = ac_flag_aika_sumeragi
						create_operative_leader = {
							name = "Aika Sumeragi"
							GFX = GFX_aika_sumeragi
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_aoba_suzukaze
						}
						set_global_flag = ac_flag_aoba_suzukaze
						create_operative_leader = {
							name = "Aoba Suzukaze"
							GFX = GFX_aoba_suzukaze
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_mako_mitsuki
						}
						set_global_flag = ac_flag_mako_mitsuki
						create_operative_leader = {
							name = "Mako Mitsuki"
							GFX = GFX_mako_mitsuki
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
							traits = {
								operative_seducer
								operative_infiltrator
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_mika_amano
						}
						set_global_flag = ac_flag_mika_amano
						create_operative_leader = {
							name = "Mika Amano"
							GFX = GFX_mika_amano
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
							traits = {
								operative_seducer
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_yuriya_komiya
						}
						set_global_flag = ac_flag_yuriya_komiya
						create_operative_leader = {
							name = "Yuriya Komiya"
							GFX = GFX_yuriya_komiya
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
								SOV
								JAP
							}
							traits = {
								operative_seducer
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_hitomi_tsukishiro
						}
						set_global_flag = ac_flag_hitomi_tsukishiro
						create_operative_leader = {
							name = "Hitomi Tsukishiro"
							GFX = GFX_hitomi_tsukishiro
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_rias_gremory
						}
						set_global_flag = ac_flag_rias_gremory
						create_operative_leader = {
							name = "Rias Gremory"
							GFX = GFX_rias_gremory
							traits = {
								operative_seducer
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_mio_naruse
						}
						set_global_flag = ac_flag_mio_naruse
						create_operative_leader = {
							name = "Mio Naruse"
							GFX = GFX_mio_naruse
							traits = {
								operative_commando
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_sakura_minamoto
						}
						set_global_flag = ac_flag_sakura_minamoto
						create_operative_leader = {
							name = "Sakura Minamoto"
							GFX = GFX_sakura_minamoto
							traits = {
								operative_infiltrator
								operative_natural_orator
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_shigure
						}
						set_global_flag = ac_flag_shigure
						create_operative_leader = {
							name = "Shigure"
							GFX = GFX_shigure
							traits = {
								operative_safe_cracker
								operative_demolition_expert
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_yurizaki_mira
						}
						set_global_flag = ac_flag_yurizaki_mira
						create_operative_leader = {
							name = "Yurizaki Mira"
							GFX = GFX_yurizaki_mira
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
							traits = {
								operative_seducer
								operative_natural_orator
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_aegis
						}
						set_global_flag = ac_flag_aegis
						create_operative_leader = {
							name = "Aegis"
							GFX = GFX_aegis
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
							traits = {
								operative_commando
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_chii
						}
						set_global_flag = ac_flag_chii
						create_operative_leader = {
							name = "Chii"
							GFX = GFX_chii
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
							traits = {
								operative_seducer
								operative_infiltrator
								operative_master_interrogator
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_vanessa_diodati
						}
						set_global_flag = ac_flag_vanessa_diodati
						create_operative_leader = {
							name = "Vanessa Diodati"
							GFX = GFX_vanessa_diodati
							bypass_recruitment = no
							available_to_spy_master = yes
							female = yes
							nationalities = {
								ROOT
							}
							traits = {
								operative_demolition_expert
								operative_commando
							}
						}
					}
					1 = {
						create_operative_leader = {
							bypass_recruitment = no
							portrait_tag_override = Z99
							female = yes
						}
					}
				}
			}
		}
	}
	ac_change_leader_to_anastasia_romanova = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_anastasia_romanova
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_anastasia_romanova
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_anastasia_romanova
			}
			add_country_leader_trait = ac_anime_tyan
			add_country_leader_trait = ac_peoples_favorite
			add_country_leader_trait = ac_patron_of_science
			add_country_leader_trait = ac_empress
			ac_anastasia_romanova = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_mind_flayer = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_mind_flayer
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_mind_flayer
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_mind_flayer
			}
			add_country_leader_trait = ac_anime_tyan
			add_country_leader_trait = ac_peoples_favorite
			add_country_leader_trait = ac_patron_of_science
			add_country_leader_trait = ac_demon_lord
			# add_country_leader_role = {
			# 	character = ac_mind_flayer
			# 	country_leader = {
			# 		ideology = despotism
			# 		expire = "1959.12.23.1"
			# 		traits = {
			# 			ac_anime_tyan
			# 			ac_peoples_favorite
			# 			ac_patron_of_science
			# 			ac_demon_lord
			# 		}
			# 	}
			# 	promote_leader = yes
			# }
			ac_mind_flayer = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_histoire = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_histoire
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_histoire
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_histoire
			}
			add_country_leader_trait = ac_anime_tyan
			add_country_leader_trait = ac_revolutionary
			add_country_leader_trait = ac_patron_of_industry
			add_country_leader_trait = ac_dictator
			ac_histoire = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_alisa_illinichina_amiella = {
		fire_only_once = yes
		cost = 100
		visible = {
			has_character = ac_alisa_illinichina_amiella
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_alisa_illinichina_amiella
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_alisa_illinichina_amiella
			}
			add_country_leader_trait = ac_anime_tyan
			add_country_leader_trait = ac_revolutionary
			add_country_leader_trait = ac_patron_of_industry
			add_country_leader_trait = ac_dictator
			ac_alisa_illinichina_amiella = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_velvet_crowe = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_velvet_crowe
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_velvet_crowe
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_velvet_crowe
			}
			add_country_leader_trait = ac_anime_tyan
			add_country_leader_trait = ac_tyan_militarist
			add_country_leader_trait = ac_patron_of_the_military_industrial_complex
			add_country_leader_trait = ac_demon_lord
			ac_velvet_crowe = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_t_elos = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_t-elos
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_t-elos
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_t-elos
			}
			add_country_leader_trait = ac_anime_tyan
			add_country_leader_trait = ac_tyan_militarist
			add_country_leader_trait = ac_patron_of_the_military_industrial_complex
			add_country_leader_trait = ac_superweapon
			ac_t-elos = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_yuuko_yoshida = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_yuuko_yoshida
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_yuuko_yoshida
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_yuuko_yoshida
			}
			add_country_leader_trait = ac_anime_tyan
			add_country_leader_trait = ac_defender
			add_country_leader_trait = ac_patron_of_intelligence
			add_country_leader_trait = ac_demon_lord
			ac_yuuko_yoshida = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_celestine_lucullus = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_celestine_lucullus
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_celestine_lucullus
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_celestine_lucullus
			}
			add_country_leader_trait = ac_anime_tyan
			add_country_leader_trait = ac_defender
			add_country_leader_trait = ac_patron_of_intelligence
			add_country_leader_trait = ac_empress
			ac_celestine_lucullus = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	#TRAPS
	ac_decision_enable_traps = {
		fire_only_once = no
		visible = {
			NOT = {
				has_country_flag = ac_flag_enable_traps
			}
		}
		available = {
			has_idea = ac_idea_anime_academy
		}
		complete_effect = {
			#set_country_flag = ac_flag_enable_traps
			country_event = ac_event.1
		}
	}
	ac_decision_gacha_trap_generals = {
		cost = 50
		visible = {
			has_country_flag = ac_flag_enable_traps
		}
		available = {
			has_idea = ac_idea_anime_academy
		}
		complete_effect = {
			add_to_variable = {
				ac_var_count_generals = 1
			}
			custom_effect_tooltip = ac_tt_gacha_generals
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_trap_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					50 = {
						add_corps_commander_role = {
							character = var:temp_char
							skill = 1
							attack_skill = 1
							defense_skill = 1
							planning_skill = 1
							logistics_skill = 1
						}
					}
					30 = {
						add_corps_commander_role = {
							character = var:temp_char
							skill = 3
							attack_skill = 3
							defense_skill = 3
							planning_skill = 3
							logistics_skill = 3
						}
					}
					15 = {
						add_corps_commander_role = {
							character = var:temp_char
							skill = 6
							attack_skill = 6
							defense_skill = 6
							planning_skill = 6
							logistics_skill = 6
						}
					}
					5 = {
						add_corps_commander_role = {
							character = var:temp_char
							skill = 9
							attack_skill = 9
							defense_skill = 9
							planning_skill = 9
							logistics_skill = 9
						}
					}
				}
				var:temp_char = {
					add_trait = {
						trait = ac_exp_trait
					}
					add_random_trait = {
						old_guard
						brilliant_strategist
						inflexible_strategist
						politically_connected
						war_hero
						career_officer
						trait_cautious
						trait_reckless
						media_personality
						harsh_leader
						bearer_of_artillery
						infantry_officer
						cavalry_officer
						armor_officer
						engineer_officer
						organizer
						cavalry_leader
						infantry_leader
						skilled_staffer
						trickster
						naval_invader
						desert_fox
						swamp_fox
						trait_mountaineer
						hill_fighter
						jungle_rat
						ranger
						urban_assault_specialist
						winter_specialist
						winter_expert
						trait_engineer
						panzer_leader
						commando
					}
				}
			}
		}
	}
	ac_decision_gacha_trap_admirals = {
		cost = 50
		visible = {
			has_country_flag = ac_flag_enable_traps
		}
		available = {
			has_idea = ac_idea_anime_academy
			any_controlled_state = {
				is_coastal = yes
			}
		}
		complete_effect = {
			add_to_variable = {
				ac_var_count_admirals = 1
			}
			custom_effect_tooltip = ac_tt_gacha_admirals
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_trap_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					50 = {
						add_naval_commander_role = {
							character = var:temp_char
							skill = 1
							attack_skill = 1
							defense_skill = 1
							maneuvering_skill = 1
							coordination_skill = 1
						}
					}
					30 = {
						add_naval_commander_role = {
							character = var:temp_char
							skill = 3
							attack_skill = 3
							defense_skill = 3
							maneuvering_skill = 1
							coordination_skill = 1
						}
					}
					15 = {
						add_naval_commander_role = {
							character = var:temp_char
							skill = 6
							attack_skill = 6
							defense_skill = 6
							maneuvering_skill = 1
							coordination_skill = 1
						}
					}
					5 = {
						add_naval_commander_role = {
							character = var:temp_char
							skill = 9
							attack_skill = 9
							defense_skill = 9
							maneuvering_skill = 1
							coordination_skill = 1
						}
					}
				}
				var:temp_char = {
					add_trait = {
						trait = ac_exp_navy_trait
					}
					add_random_trait = {
						old_guard_navy
						gentlemanly
						gunnery_expert
						cuts_corners
						chief_engineer
						navy_media_personality
						bold
						navy_career_officer
						battleship_adherent
						aviation_enthusiast
						caustic_personality
						craven
						naval_lineage
						seawolf
						fleet_protector
						blockade_runner
						superior_tactician
						spotter
						fly_swatter
						ironside
						air_controller
						arctic_water_expert
						inshore_fighter
						blue_water_expert
						green_water_expert
					}
				}
			}
		}
	}
	ac_decision_gacha_trap_political_advisors = {
		cost = 50
		visible = {
			has_country_flag = ac_flag_enable_traps
		}
		available = {
			has_idea = ac_idea_anime_academy
		}
		complete_effect = {
			custom_effect_tooltip = ac_tt_gacha_political_advisors
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_trap_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_popular_figurehead
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_silent_workhorse
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_head_of_intelligence
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_intelligence_princess
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_propaganda_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_first_lady
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_quartermaster_general
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_infrastructure_developer
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_captain_of_industry
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_war_industrialist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_princess_of_terror
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_communist_revolutionary
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_democratic_reformer
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_fascist_demagogue
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_staunch_monarchist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_peoples_favorite_minister
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_minister_of_health
								}
							}
						}
					}
				}
			}
		}
	}
	ac_decision_gacha_trap_theorists = {
		cost = 50
		visible = {
			has_country_flag = ac_flag_enable_traps
		}
		available = {
			has_idea = ac_idea_anime_academy
		}
		complete_effect = {
			custom_effect_tooltip = ac_tt_gacha_theorists
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_trap_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_nuclear_scientist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = political_advisor
								cost = 150
								idea_token = var:temp_char
								traits = {
									ac_girl_scientist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									military_theorist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									mobile_warfare_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									superior_firepower_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									grand_battle_plan_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									mass_assault_expert
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_warfare_theorist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									dive_bomber
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									victory_through_airpower
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									close_air_support_proponent
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									assault_avaition
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									naval_theorist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									naval_aviation_pioneer
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									grand_fleet_proponent
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									submarine_specialist
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = theorist
								cost = 150
								idea_token = var:temp_char
								traits = {
									blitzkrieg_theorist
								}
							}
						}
					}
				}
			}
		}
	}
	ac_decision_gacha_trap_air_chiefs = {
		cost = 50
		visible = {
			has_country_flag = ac_flag_enable_traps
		}
		available = {
			has_idea = ac_idea_anime_academy
		}
		complete_effect = {
			custom_effect_tooltip = ac_tt_gacha_air_chiefs
			hidden_effect = {
				Z99 = {
					random_character = {
						limit = {
							has_character_flag = ac_trap_flag
						}
						set_temp_variable = {
							temp_char = THIS.id
						}
					}
				}
				var:temp_char = {
					set_nationality = ROOT
				}
				random_list = {
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_reform_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_safety_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_old_guard
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_night_operations_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_ground_support_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = air_chief
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_chief_all_weather_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_air_combat_training_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_naval_strike_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_bomber_interception_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_air_superiority_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_close_air_support_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_strategic_bombing_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_tactical_bombing_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_airborne_3
								}
							}
						}
					}
					1 = {
						add_advisor_role = {
							character = var:temp_char
							activate = no
							advisor = {
								slot = high_command
								cost = 150
								idea_token = var:temp_char
								traits = {
									air_pilot_training_3
								}
							}
						}
					}
				}
			}
		}
	}
	ac_decision_gacha_trap_operatives = {
		cost = 50
		visible = {
			has_country_flag = ac_flag_enable_traps
		}
		available = {
			has_idea = ac_idea_idea_anime_intelligence_agency
		}
		complete_effect = {
			custom_effect_tooltip = ac_tt_gacha_operatives
			hidden_effect = {
				random_list = {
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_aoi_futaba
						}
						set_global_flag = ac_flag_aoi_futaba
						create_operative_leader = {
							name = "Aoi Futaba"
							GFX = GFX_aoi_futaba
							traits = {
								operative_seducer
								operative_linguist
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							female = no
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_gasper_vladi
						}
						set_global_flag = ac_flag_gasper_vladi
						create_operative_leader = {
							name = "Gasper Vladi"
							GFX = GFX_gasper_vladi
							traits = {
								operative_seducer
								operative_double_agent
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							female = no
							nationalities = {
								ROOT
								ROM
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_ryou_akizuki
						}
						set_global_flag = ac_flag_ryou_akizuki
						create_operative_leader = {
							name = "Ryou Akizuki"
							GFX = GFX_ryou_akizuki
							traits = {
								operative_seducer
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							female = no
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						modifier = {
							factor = 0
							has_global_flag = ac_flag_saki_mizushima
						}
						set_global_flag = ac_flag_saki_mizushima
						create_operative_leader = {
							name = "Saki Mizushima"
							GFX = GFX_saki_mizushima
							traits = {
								operative_natural_orator
							}
							bypass_recruitment = no
							available_to_spy_master = yes
							female = no
							nationalities = {
								ROOT
							}
						}
					}
					1 = {
						create_operative_leader = {
							bypass_recruitment = no
							portrait_tag_override = Z99
							female = no
						}
					}
				}
			}
		}
	}
	ac_change_leader_to_astolfo = {
		fire_only_once = yes
		cost = 100
		visible = {
			has_character = ac_astolfo
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_astolfo
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_astolfo
			}
			add_country_leader_trait = ac_trap
			add_country_leader_trait = ac_defender
			add_country_leader_trait = ac_patron_of_intelligence
			add_country_leader_trait = ac_idol
			ac_astolfo = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_homare_nao = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_homare_nao
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_homare_nao
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_homare_nao
			}
			add_country_leader_trait = ac_trap
			add_country_leader_trait = ac_peoples_favorite
			add_country_leader_trait = ac_patron_of_science
			add_country_leader_trait = ac_empress
			ac_homare_nao = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_takumi_musashino = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_takumi_musashino
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_takumi_musashino
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_takumi_musashino
			}
			add_country_leader_trait = ac_trap
			add_country_leader_trait = ac_revolutionary
			add_country_leader_trait = ac_patron_of_industry
			add_country_leader_trait = ac_dictator
			ac_takumi_musashino = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
	ac_change_leader_to_hideri_kanzaki = {
		fire_only_once = no
		cost = 100
		visible = {
			has_character = ac_hideri_kanzaki
		}
		available = {
			NOT = {
				OR = {
					has_country_leader_with_trait = ac_anime_tyan
					has_country_leader_with_trait = ac_trap
					#has_country_leader_with_trait = ac_android
				}
			}
		}
		complete_effect = {
			#retire_country_leader = yes
			set_country_leader_name = {
				name = ac_hideri_kanzaki
			}
			set_country_leader_portrait = {
				portrait = GFX_portrait_ac_hideri_kanzaki
			}
			add_country_leader_trait = ac_trap
			add_country_leader_trait = ac_tyan_militarist
			add_country_leader_trait = ac_patron_of_the_military_industrial_complex
			add_country_leader_trait = ac_idol
			ac_hideri_kanzaki = {
				set_character_flag = ac_country_leader_flag
			}
		}
	}
}

political_actions = {
	ac_retire_leader = {
		visible = {
			any_character = {
				OR = {
					has_character_flag = ac_girl_flag
					has_character_flag = ac_trap_flag
				}
			}
			is_ai = no
		}
		available = {
			if = {
				limit = {
					has_government = democratic
				}
				democratic > 0.5
			}
			else_if = {
				limit = {
					has_government = communism
				}
				communism > 0.5
			}
			else_if = {
				limit = {
					has_government = fascism
				}
				fascism > 0.5
			}
			else = {
				neutrality > 0.5
			}
			has_stability > 0.5
		}
		cost = 100
		fire_only_once = no
		complete_effect = {
			retire_country_leader = yes
			custom_effect_tooltip = ac_retire_leader_tt
			hidden_effect = {
				if = {
					limit = {
						has_government = democratic
					}
					random_character = {
						limit = {
							NOT = {
								has_character_flag = ac_country_leader_flag
							}
							OR = {
								has_character_flag = ac_trap_flag
								has_character_flag = ac_girl_flag
							}
						}
						set_character_flag = ac_country_leader_flag
						ROOT = {
							add_country_leader_role = {
								character = PREV
								promote_leader = yes
								country_leader = {
									ideology = liberalism
									expire = "1965.1.1.1"
									# traits = {
									# 	ac_trap
									# }
								}
							}
						}
					}
				}
				else_if = {
					limit = {
						has_government = communism
					}
					random_character = {
						limit = {
							NOT = {
								has_character_flag = ac_country_leader_flag
							}
							OR = {
								has_character_flag = ac_trap_flag
								has_character_flag = ac_girl_flag
							}
						}
						set_character_flag = ac_country_leader_flag
						ROOT = {
							add_country_leader_role = {
								character = PREV
								promote_leader = yes
								country_leader = {
									ideology = stalinism
									expire = "1965.1.1.1"
									# traits = {
									# 	ac_trap
									# }
								}
							}
						}
					}
				}
				else_if = {
					limit = {
						has_government = fascism
					}
					random_character = {
						limit = {
							NOT = {
								has_character_flag = ac_country_leader_flag
							}
							OR = {
								has_character_flag = ac_trap_flag
								has_character_flag = ac_girl_flag
							}
						}
						set_character_flag = ac_country_leader_flag
						ROOT = {
							add_country_leader_role = {
								character = PREV
								promote_leader = yes
								country_leader = {
									ideology = fascism_ideology
									expire = "1965.1.1.1"
									# traits = {
									# 	ac_trap
									# }
								}
							}
						}
					}
				}
				else = {
					random_character = {
						limit = {
							NOT = {
								has_character_flag = ac_country_leader_flag
							}
							OR = {
								has_character_flag = ac_trap_flag
								has_character_flag = ac_girl_flag
							}
						}
						set_character_flag = ac_country_leader_flag
						ROOT = {
							add_country_leader_role = {
								character = PREV
								promote_leader = yes
								country_leader = {
									ideology = despotism
									expire = "1965.1.1.1"
									# traits = {
									# 	ac_trap
									# }
								}
							}
						}
					}
				}
				every_character = {
					limit = {
						is_country_leader = yes
						has_character_flag = ac_trap_flag
					}
					add_country_leader_trait = ac_trap
				}
				every_character = {
					limit = {
						is_country_leader = yes
						has_character_flag = ac_girl_flag
					}
					add_country_leader_trait = ac_anime_tyan
				}
				random_list = {
					1 = {
						add_country_leader_trait = ac_revolutionary
					}
					1 = {
						add_country_leader_trait = ac_peoples_favorite
					}
					1 = {
						add_country_leader_trait = ac_tyan_militarist
					}
					1 = {
						add_country_leader_trait = ac_defender
					}
				}
				random_list = {
					1 = {
						add_country_leader_trait = ac_patron_of_intelligence
					}
					1 = {
						add_country_leader_trait = ac_patron_of_the_military_industrial_complex
					}
					1 = {
						add_country_leader_trait = ac_patron_of_industry
					}
					1 = {
						add_country_leader_trait = ac_patron_of_science
					}
				}
				random_list = {
					1 = {
						add_country_leader_trait = ac_idol
					}
					1 = {
						add_country_leader_trait = ac_dictator
					}
					1 = {
						add_country_leader_trait = ac_tsundere
					}
					1 = {
						add_country_leader_trait = ac_empress
					}
				}
			}
		}
	}
}

ac_subjects_category = {
	ac_change_country_leader_trap = {
		name = ac_change_country_leader
		cost = 150
		visible = {
			has_idea = ac_idea_anime_academy
			NOT = {
				has_idea = ac_idea_anime_academy
			}
		}
		available = {
			FROM = {
				is_puppet = yes
			}
		}
		target_array = subjects
		target_trigger = {
			FROM = {
				NOT = {
					has_country_leader_with_trait = ac_trap
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				FROM = {
					ac_change_country_leader_trap = yes
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
	}
	ac_change_country_leader_girl = {
		name = ac_change_country_leader
		cost = 150
		visible = {
			has_idea = ac_idea_anime_academy
			NOT = {
				has_idea = ac_idea_anime_academy
			}
		}
		available = {
			FROM = {
				is_puppet = yes
			}
		}
		target_array = subjects
		target_trigger = {
			FROM = {
				NOT = {
					has_country_leader_with_trait = ac_anime_tyan
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				FROM = {
					ac_change_country_leader_girl = yes
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
	}
	ac_change_country_leader = {
		cost = 150
		visible = {
			has_idea = ac_idea_anime_academy
			has_idea = ac_idea_anime_academy
		}
		available = {
			FROM = {
				is_puppet = yes
			}
		}
		target_array = subjects
		target_trigger = {
			FROM = {
				NOT = {
					OR = {
						has_country_leader_with_trait = ac_trap
						has_country_leader_with_trait = ac_anime_tyan
					}
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				random_list = {
					1 = {
						FROM = {
							ac_change_country_leader_trap = yes
						}
					}
					1 = {
						FROM = {
							ac_change_country_leader_girl = yes
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
	}
}
